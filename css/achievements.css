:root {
    --forest: #1B4332;
    --leaf: #40916C;
    --purple: #5A189A;
    --gold: #D4AF37;
    --red: #E63946;
    --sky: #E0F2FE;
    --grass: #DCFCE7;
    --lavender: #F3E8FF;
    --pink: #FFE5E5;
}

body {
    margin: 0;
    font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif;
    background: 
        linear-gradient(180deg, #bbf7d0 0%, #f0fdf4 400px, #f0fdf4 100%),
        radial-gradient(circle at top right, #86efac 0%, transparent 30%);
    background-attachment: fixed;
    color: #1E293B;
}

/* --- 主內容區：這是解決「貼邊」的核心 --- */
.main-container { 
    max-width: 1200px; 
    margin: 0 auto;       /* 水平居中 */
    padding: 40px 24px;   /* 24px 的左右內距，確保卡片絕不貼邊 */
    width: 100%; 
    box-sizing: border-box; 
}

.header-section { text-align: center; margin-bottom: 40px; }
.badge-count { background: var(--grass); color: var(--leaf); padding: 6px 16px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
.header-section h1 { font-size: 2.2rem; margin: 15px 0; color: var(--forest); }

.category-filter { display: flex; justify-content: center; gap: 8px; margin-bottom: 40px; flex-wrap: wrap; }
.filter-btn {
    border: none; padding: 10px 18px; border-radius: 50px; background: white;
    cursor: pointer; font-weight: bold; color: #64748B; box-shadow: 0 4px 6px rgba(0,0,0,0.05); transition: 0.3s;
}
.filter-btn.active { background: var(--leaf); color: white; }

/* --- 網格佈局 --- */
.badge-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); 
    gap: 24px;
}

.badge-card {
    background: white; 
    border-radius: 24px; 
    padding: 25px 20px; 
    text-align: center;
    position: relative; 
    cursor: pointer; 
    transition: all 0.3s ease;
    box-shadow: 0 6px 15px rgba(0,0,0,0.03);
    display: flex;
    flex-direction: column;
    align-items: center;
}

.badge-card:hover { transform: translateY(-8px); box-shadow: 0 12px 25px rgba(0,0,0,0.08); }

/* 標籤樣式 */
.card-type { position: absolute; top: 12px; left: 12px; font-size: 0.7rem; font-weight: bold; padding: 4px 10px; border-radius: 8px; }
.behavior-tag { background: var(--sky); color: #0369A1; }
.milestone-tag { background: var(--grass); color: #15803D; }
.social-tag { background: var(--lavender); color: var(--purple); }
.champion-tag { background: #FFF9E6; color: var(--gold); }

.badge-visual { font-size: 3.5rem; margin: 15px 0 10px; }
.badge-name { font-weight: bold; font-size: 1.1rem; color: var(--forest); margin-bottom: 12px; }

/* 進度條 */
.progress-bar { width: 100%; height: 8px; background: #F1F5F9; border-radius: 10px; overflow: hidden; margin-bottom: 8px; }
.fill { height: 100%; background: linear-gradient(90deg, #52B788, var(--leaf)); border-radius: 10px; }
.status-text { font-size: 0.8rem; color: var(--leaf); font-weight: bold; margin: 0; }

.unlocked { border: 2px solid var(--leaf); }
.badge-card.champion.glow { border: 2px solid var(--gold); background: linear-gradient(145deg, #ffffff, #fffef5); }

/* 彈窗 */
.modal {
    display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(15, 23, 42, 0.75); backdrop-filter: blur(8px); z-index: 2000;
    justify-content: center; align-items: center;
}
.modal-content {
    background: white; padding: 40px; border-radius: 35px; width: 90%; max-width: 400px;
    text-align: center; position: relative;
}
.modal-stats { display: flex; justify-content: space-around; background: #F8FAFC; padding: 20px; border-radius: 20px; margin-bottom: 25px; }
.stat-main { display: block; font-weight: bold; font-size: 1.2rem; color: var(--forest); }
.stat-sub { font-size: 0.75rem; color: #94A3B8; margin-top: 4px; }
.share-btn { width: 100%; padding: 15px; background: var(--forest); color: white; border: none; border-radius: 15px; font-weight: bold; cursor: pointer; }
.close-btn { position: absolute; top: 15px; right: 20px; font-size: 1.5rem; cursor: pointer; color: #CBD5E1; }

/* RWD */
@media (max-width: 600px) {
    .main-container { padding: 20px 16px; }
    .header-section h1 { font-size: 1.8rem; }
    .badge-grid { grid-template-columns: 1fr; } /* 手機版改為單欄，看起來更清爽 */
}